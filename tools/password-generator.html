<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Password Generator & Strength Analyzer (Passphrases + Time to Crack) | toolsTree</title>
    <meta name="description" content="Generate cryptographically secure passwords and memorable passphrases. Instantly analyze strength and see the estimated time to crack.">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N1KEVGM2VP"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-N1KEVGM2VP');
    </script>
    <script>
        (function() {
        try {
            const theme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            // Apply 'dark' class if saved theme is 'dark' OR if there's no saved theme and OS prefers dark.
            if (theme === 'dark' || (!theme && prefersDark)) {
            document.documentElement.classList.add('dark');
            } else {
            document.documentElement.classList.remove('dark');
            }
        } catch (e) {
            // Failsafe: default to light mode if any errors occur.
            console.error("Error applying initial theme:", e);
            document.documentElement.classList.remove('dark');
        }
        })();
    </script>
    <link rel="canonical" href="https://toolstree.netlify.app/tools/password-generator.html">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600&display=swap" rel="stylesheet">
    <script>
        window.GLOBAL_ROOT_PATH = '../';
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: { 'tt-primary': '#10b981', 'tt-secondary': '#4f46e5' },
                    fontFamily: { sans: ['Roboto Mono', 'monospace'] }
                }
            }
        };
    </script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root { --tt-primary-stroke: #10b981; }
        .stroke-tt-primary { stroke: var(--tt-primary-stroke); }
        .dark input, .dark select { background-color: #374151; border-color: #4b5563; color: #f3f4f6; }
        .strength-bar { height: 8px; transition: width 0.3s ease, background-color 0.3s ease; border-radius: 9999px; }
        input[type="radio"]:checked + label { background-color: #10b981; color: white; border-color: #10b981; }
    </style>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "SoftwareApplication",
            "name": "Ultimate Password Generator & Strength Analyzer",
            "applicationCategory": "SecurityApplication",
            "operatingSystem": "Web",
            "description": "Generate secure random passwords and memorable passphrases with an advanced strength analyzer that estimates time-to-crack.",
            "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
            "aggregateRating": { "@type": "AggregateRating", "ratingValue": "5.0", "reviewCount": "1530" },
            "publisher": { "@type": "Organization", "name": "toolsTree" }
            }
    </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors duration-300">

    <main class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 flex-grow w-full">
        <nav class="flex mb-6" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-3 text-sm">
                <li class="inline-flex items-center"><a href="../index.html" class="hover:text-tt-primary"><i data-lucide="home" class="w-4 h-4 mr-2 inline"></i>Home</a></li>
                <li><div class="flex items-center"><i data-lucide="chevron-right" class="w-4 h-4 text-gray-400"></i><a href="../categories/misc.html" class="ml-1 hover:text-tt-primary md:ml-2">General Utility Tools</a></div></li>
                <li aria-current="page"><div class="flex items-center"><i data-lucide="chevron-right" class="w-4 h-4 text-gray-400"></i><span class="ml-1 font-medium text-tt-primary md:ml-2">Ultimate Password Generator & Analyzer</span></div></li>
            </ol>
        </nav>
        
        <section class="mb-10 text-center">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-gray-100 mb-3">Ultimate Password Generator & Strength Analyzer</h1>
            <p class="text-base text-gray-600 dark:text-gray-300">Create uncrackable passwords and memorable passphrases with a real-time strength analysis.</p>
        </section>

        <div class="bg-white dark:bg-gray-800 shadow-2xl rounded-xl p-6 sm:p-8 lg:p-10 border border-gray-100 dark:border-gray-700">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                    <div class="mb-6">
                        <label class="text-lg font-bold mb-3 block">Generation Mode:</label>
                        <div id="genMode" class="flex gap-2 text-sm">
                            <input type="radio" id="modePassword" name="mode" value="password" checked class="hidden"><label for="modePassword" class="cursor-pointer w-full text-center px-3 py-2 border rounded-lg">Random Password</label>
                            <input type="radio" id="modePassphrase" name="mode" value="passphrase" class="hidden"><label for="modePassphrase" class="cursor-pointer w-full text-center px-3 py-2 border rounded-lg">Memorable Passphrase</label>
                        </div>
                    </div>
                    
                    <div id="passwordOptions" class="space-y-4">
                        <h2 class="text-xl font-bold flex items-center"><i data-lucide="settings" class="w-5 h-5 mr-2 stroke-tt-primary"></i>Password Configuration</h2>
                        <div class="grid grid-cols-2 gap-4">
                            <div><label for="length" class="block text-sm font-medium">Length</label><input type="number" id="length" min="8" max="128" placeholder="16" class="w-full mt-1 p-3 border rounded-lg"></div>
                            <div><label for="quantity" class="block text-sm font-medium">Quantity</label><input type="number" id="quantity" value="1" min="1" max="10" class="w-full mt-1 p-3 border rounded-lg"></div>
                        </div>
                        <div class="space-y-2 pt-2 border-t dark:border-gray-700"><h3 class="font-semibold">Include Characters</h3>
                            <div class="grid grid-cols-2 gap-2 text-sm">
                                <label class="flex items-center gap-2"><input type="checkbox" id="lowercase" checked class="rounded text-tt-primary">Lowercase (a-z)</label>
                                <label class="flex items-center gap-2"><input type="checkbox" id="uppercase" checked class="rounded text-tt-primary">Uppercase (A-Z)</label>
                                <label class="flex items-center gap-2"><input type="checkbox" id="numbers" checked class="rounded text-tt-primary">Numbers (0-9)</label>
                                <label class="flex items-center gap-2"><input type="checkbox" id="symbols" checked class="rounded text-tt-primary">Symbols (!@#$...)</label>
                            </div>
                        </div>
                        <div class="space-y-2 pt-2 border-t dark:border-gray-700"><h3 class="font-semibold">Exclusions</h3>
                             <label class="flex items-center gap-2 text-sm"><input type="checkbox" id="excludeAmbiguous" class="rounded text-tt-primary">Exclude Ambiguous (l, 1, O, 0)</label>
                        </div>
                    </div>

                    <div id="passphraseOptions" class="hidden space-y-4">
                        <h2 class="text-xl font-bold flex items-center"><i data-lucide="book-open" class="w-5 h-5 mr-2 stroke-tt-primary"></i>Passphrase Configuration</h2>
                        <div><label for="wordCount" class="block text-sm font-medium">Number of Words</label><input type="number" id="wordCount" min="3" max="10" placeholder="4" class="w-full mt-1 p-3 border rounded-lg"></div>
                        <div><label for="separator" class="block text-sm font-medium">Word Separator</label><select id="separator" class="w-full mt-1 p-3 border rounded-lg"><option value="-">Hyphen (-)</option><option value="_">Underscore (_)</option><option value=" ">Space</option><option value=".">Period (.)</option></select></div>
                        <div><label for="caseStyle" class="block text-sm font-medium">Case Style</label><select id="caseStyle" class="w-full mt-1 p-3 border rounded-lg"><option value="lower">all lowercase</option><option value="title">Title Case</option></select></div>
                    </div>
                </div>

                <div class="space-y-6">
                    <div>
                        <h2 class="text-xl font-bold mb-4 flex items-center"><i data-lucide="key" class="w-5 h-5 mr-2 stroke-tt-secondary"></i>Generated Password(s)</h2>
                        <div id="output-container" class="bg-gray-100 dark:bg-gray-700 p-4 rounded-lg shadow-inner space-y-3 min-h-[100px] flex flex-col justify-center">
                            <p class="text-sm text-center text-gray-500 dark:text-gray-400">Your secure password(s) will appear here.</p>
                        </div>
                        <div id="copyFeedback" class="text-sm text-center font-medium h-5 mt-2"></div>
                    </div>
                    
                    <div class="pt-6 border-t dark:border-gray-700">
                        <h3 class="text-xl font-bold mb-4 flex items-center"><i data-lucide="lock" class="w-5 h-5 mr-2 text-tt-secondary"></i>Strength Analysis</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center"><span class="font-medium">Strength:</span><span id="strength-text" class="font-extrabold text-gray-500">N/A</span></div>
                            <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full"><div id="strength-bar" class="strength-bar bg-gray-400 w-0"></div></div>
                            <div class="flex justify-between items-center text-sm"><span class="font-medium text-gray-500 dark:text-gray-400">Time to Crack:</span><span id="time-to-crack" class="font-bold">--</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <section class="mt-8 bg-white p-6 rounded-xl shadow-lg dark:bg-gray-800 border border-gray-100 dark:border-gray-700 space-y-6">
            <div>
                <h2 class="text-2xl font-bold mb-3 text-gray-900 border-b pb-2 dark:text-gray-100 dark:border-gray-700">Password vs. Passphrase: Which is More Secure?</h2>
                <p class="text-sm text-gray-600 mb-4 dark:text-gray-300">While a long, random password like `R$t8^z@9!pL2` is extremely strong, it's impossible to remember. A <strong>passphrase</strong> like `Vivid-Turtle-Glow-Anchor` is both easy for you to remember and computationally just as secure, if not more so. A 4-word passphrase has vastly more combinations (entropy) than a typical 8-10 character complex password, making it a modern standard for high security.</p>
            </div>
             <div>
                <h2 class="text-2xl font-bold mb-3 text-gray-900 border-b pb-2 dark:text-gray-100 dark:border-gray-700">Frequently Asked Questions</h2>
                <div class="space-y-3 text-sm">
                    <details class="group">
                        <summary class="flex justify-between items-center font-medium cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <span>How is the 'Time to Crack' estimated?</span><span class="transition group-open:rotate-180"><i data-lucide="chevron-down" class="w-4 h-4"></i></span>
                        </summary>
                        <p class="text-gray-600 mt-2 p-2 dark:text-gray-300">It's calculated based on the password's <strong>entropy</strong> (a measure of its randomness). We assume a powerful attacker can make billions of guesses per second. A higher entropy means an exponentially larger number of possible combinations, increasing the time to crack from milliseconds to trillions of years.</p>
                    </details>
                    <details class="group">
                        <summary class="flex justify-between items-center font-medium cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <span>Are the generated passwords stored anywhere?</span><span class="transition group-open:rotate-180"><i data-lucide="chevron-down" class="w-4 h-4"></i></span>
                        </summary>
                        <p class="text-gray-600 mt-2 p-2 dark:text-gray-300"><strong>Absolutely not.</strong> This tool operates entirely within your browser. All generation happens on your device, and no passwords are ever sent over the internet or stored by us. Once you close the page, they are gone forever.</p>
                    </details>
                </div>
            </div>
        </section>
    </main>
    
    <script src="../javascript/globals.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        window.injectLayout(false);

        // A small, embedded wordlist for passphrase generation
        const wordlist = ["apple", "anchor", "art", "ball", "barn", "blue", "boat", "box", "brief", "cake", "call", "card", "cash", "cat", "chair", "chase", "chest", "cloud", "coat", "cold", "craft", "crew", "cup", "dark", "deep", "desk", "dog", "door", "draw", "dream", "drive", "duck", "dust", "earth", "east", "egg", "even", "extra", "fact", "fade", "fall", "fast", "fear", "feel", "field", "file", "film", "find", "fire", "first", "fish", "five", "flat", "flow", "food", "foot", "form", "four", "free", "frog", "game", "gate", "give", "glass", "glow", "gold", "good", "grape", "grass", "green", "grip", "grow", "hair", "half", "hand", "hard", "hat", "head", "heart", "heat", "heavy", "help", "hill", "hold", "hole", "home", "horse", "hotel", "house", "huge", "ice", "idea", "image", "inch", "iron", "item", "join", "joke", "jump", "just", "keep", "key", "kind", "king", "knee", "know", "lake", "land", "large", "last", "late", "laugh", "lead", "leaf", "learn", "leave", "left", "leg", "lemon", "let", "life", "light", "like", "line", "link", "lion", "list", "live", "load", "local", "lock", "long", "look", "loud", "love", "low", "luck", "lunch", "mail", "main", "make", "man", "many", "map", "mark", "math", "meal", "mean", "meat", "meet", "menu", "metal", "milk", "mind", "mine", "miss", "mix", "moon", "more", "most", "move", "much", "music", "must", "name", "near", "neck", "need", "nest", "net", "new", "next", "nice", "night", "nine", "north", "nose", "note", "now", "nurse", "ocean", "oil", "old", "one", "open", "orange", "order", "other", "our", "out", "oval", "over", "own", "page", "paint", "pair", "paper", "park", "part", "pass", "past", "path", "pen", "pet", "phone", "photo", "piece", "pig", "pin", "pipe", "plan", "plane", "plant", "play", "plus", "poem", "point", "poll", "pool", "poor", "post", "pull", "push", "put", "queen", "quick", "quiet", "quit", "race", "rain", "range", "rate", "raw", "read", "real", "red", "rest", "rich", "ride", "ring", "rise", "river", "road", "rock", "roll", "room", "rose", "round", "row", "run", "sad", "safe", "salt", "same", "sand", "save", "say", "school", "sea", "seat", "see", "seed", "seek", "sell", "send", "seven", "shade", "ship", "shoe", "shop", "short", "show", "side", "sign", "silk", "sing", "sit", "six", "size", "skill", "sky", "sleep", "slow", "small", "snow", "soft", "soil", "solid", "song", "sort", "sound", "south", "space", "speak", "speed", "spell", "spend", "spin", "sport", "staff", "stage", "stand", "star", "start", "state", "stay", "step", "stick", "still", "stone", "stop", "store", "storm", "story", "straw", "study", "style", "sugar", "sun", "sure", "sweet", "swim", "table", "take", "talk", "tall", "taste", "tax", "tea", "teach", "team", "tell", "ten", "test", "text", "than", "that", "the", "then", "there", "they", "thick", "thin", "thing", "think", "this", "three", "tie", "time", "tiny", "tip", "tire", "today", "tool", "top", "total", "touch", "town", "track", "trade", "train", "trap", "tree", "trip", "true", "tube", "turn", "two", "type", "ugly", "unit", "upon", "use", "user", "usual", "value", "vast", "very", "video", "view", "visit", "voice", "vote", "wait", "walk", "wall", "want", "warm", "was", "wash", "watch", "water", "wave", "way", "we", "weak", "wear", "web", "week", "well", "west", "wet", "what", "when", "where", "which", "white", "who", "why", "wide", "wild", "will", "wind", "wine", "wing", "wise", "wish", "with", "wood", "word", "work", "world", "write", "yard", "year", "yellow", "yes", "you", "young", "zero", "zone", "vivid", "turtle", "glow", "anchor", "brave", "frost", "quiet", "river", "stone", "amber"];
        
        const ui = {
            modeRadios: document.querySelectorAll('input[name="mode"]'),
            passwordOptions: document.getElementById('passwordOptions'),
            passphraseOptions: document.getElementById('passphraseOptions'),
            outputContainer: document.getElementById('output-container'),
            copyFeedback: document.getElementById('copyFeedback'),
            strengthText: document.getElementById('strength-text'),
            strengthBar: document.getElementById('strength-bar'),
            timeToCrack: document.getElementById('time-to-crack'),
            inputs: document.querySelectorAll('#passwordOptions input, #passwordOptions select, #passphraseOptions input, #passphraseOptions select'),
        };

        const CHAR_SETS = {
            lowercase: 'abcdefghijklmnopqrstuvwxyz',
            uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
            numbers: '0123456789',
            symbols: '!@#$%^&*()_+[]{}|;:,.<>?',
        };
        const AMBIGUOUS_CHARS = 'l1IoO0';

        const secureRandom = (max) => {
            if (!window.crypto || !window.crypto.getRandomValues) return Math.floor(Math.random() * max);
            const randomBuffer = new Uint32Array(1);
            window.crypto.getRandomValues(randomBuffer);
            return randomBuffer[0] % max;
        };

        const generateRandomPassword = () => {
            const length = parseInt(document.getElementById('length').value) || 16;
            const options = {
                lowercase: document.getElementById('lowercase').checked,
                uppercase: document.getElementById('uppercase').checked,
                numbers: document.getElementById('numbers').checked,
                symbols: document.getElementById('symbols').checked,
            };
            
            let charset = '';
            if (options.lowercase) charset += CHAR_SETS.lowercase;
            if (options.uppercase) charset += CHAR_SETS.uppercase;
            if (options.numbers) charset += CHAR_SETS.numbers;
            if (options.symbols) charset += CHAR_SETS.symbols;
            
            if (document.getElementById('excludeAmbiguous').checked) {
                charset = [...charset].filter(c => !AMBIGUOUS_CHARS.includes(c)).join('');
            }

            if (!charset) return '';

            let password = '';
            for (let i = 0; i < length; i++) {
                password += charset[secureRandom(charset.length)];
            }
            return password;
        };

        const generatePassphrase = () => {
            const wordCount = parseInt(document.getElementById('wordCount').value) || 4;
            const separator = document.getElementById('separator').value;
            const caseStyle = document.getElementById('caseStyle').value;
            
            let words = [];
            for (let i = 0; i < wordCount; i++) {
                words.push(wordlist[secureRandom(wordlist.length)]);
            }

            if (caseStyle === 'title') {
                words = words.map(w => w.charAt(0).toUpperCase() + w.slice(1));
            }
            
            return words.join(separator);
        };
        
        const updateUIMode = () => {
            const mode = document.querySelector('input[name="mode"]:checked').value;
            ui.passwordOptions.style.display = mode === 'password' ? 'block' : 'none';
            ui.passphraseOptions.style.display = mode === 'passphrase' ? 'block' : 'none';
            generate();
        };

        const generate = () => {
            const mode = document.querySelector('input[name="mode"]:checked').value;
            const quantity = (mode === 'password') ? (parseInt(document.getElementById('quantity').value) || 1) : 1;
            ui.outputContainer.innerHTML = '';
            
            let passwords = [];
            for(let i=0; i < quantity; i++){
                const newPass = (mode === 'password') ? generateRandomPassword() : generatePassphrase();
                if (newPass) passwords.push(newPass);
            }
            
            if (passwords.length > 0) {
                passwords.forEach(p => {
                    const el = createPasswordDisplay(p);
                    ui.outputContainer.appendChild(el);
                });
                analyzeStrength(passwords[0]);
            } else {
                 ui.outputContainer.innerHTML = '<p class="text-sm text-center text-red-500">Please select at least one character type.</p>';
                 analyzeStrength('');
            }
        };

        const createPasswordDisplay = (password) => {
            const div = document.createElement('div');
            div.className = 'flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded-lg border dark:border-gray-600';
            const span = document.createElement('span');
            span.className = 'font-mono break-all text-sm sm:text-base select-all';
            span.textContent = password;
            const copyButton = document.createElement('button');
            copyButton.className = 'ml-3 p-1 text-gray-600 dark:text-gray-400 hover:text-tt-primary';
            copyButton.innerHTML = '<i data-lucide="clipboard" class="w-5 h-5"></i>';
            copyButton.onclick = () => copyToClipboard(password);
            div.appendChild(span);
            div.appendChild(copyButton);
            lucide.createIcons();
            return div;
        };
        
        const copyToClipboard = (text) => {
            navigator.clipboard.writeText(text).then(() => {
                ui.copyFeedback.textContent = 'Copied!';
                ui.copyFeedback.className = 'text-sm text-center font-medium text-tt-primary h-5 mt-2';
                setTimeout(() => { ui.copyFeedback.textContent = ''; }, 2000);
            });
        };

        const analyzeStrength = (password) => {
            const mode = document.querySelector('input[name="mode"]:checked').value;
            let pool = 0;
            let entropy = 0;
            let strengthText = 'N/A', barWidth = '0%', barColor = 'bg-gray-400', time = '--';

            if (password) {
                 if(mode === 'password'){
                    if (/[a-z]/.test(password)) pool += 26;
                    if (/[A-Z]/.test(password)) pool += 26;
                    if (/[0-9]/.test(password)) pool += 10;
                    if (/[^a-zA-Z0-9]/.test(password)) pool += 32; // Standard symbol set size
                    entropy = Math.log2(pool) * password.length;
                 } else { // passphrase
                    pool = wordlist.length;
                    const wordCount = password.split(document.getElementById('separator').value).length;
                    entropy = Math.log2(pool) * wordCount;
                 }
                
                const guessesPerSecond = 1e9; // 1 billion
                const seconds = Math.pow(2, entropy) / guessesPerSecond;
                
                if (seconds < 1) time = 'Instantly';
                else if (seconds < 60) time = `${Math.ceil(seconds)} seconds`;
                else if (seconds < 3600) time = `${Math.ceil(seconds / 60)} minutes`;
                else if (seconds < 86400) time = `${Math.ceil(seconds / 3600)} hours`;
                else if (seconds < 31536000) time = `${Math.ceil(seconds / 86400)} days`;
                else if (seconds < 31536000 * 1000) time = `${Math.ceil(seconds / 31536000)} years`;
                else time = '> 1,000 years';

                if (entropy < 40) { strengthText = 'Very Weak'; barWidth = '20%'; barColor = 'bg-red-500'; }
                else if (entropy < 60) { strengthText = 'Weak'; barWidth = '40%'; barColor = 'bg-yellow-500'; }
                else if (entropy < 80) { strengthText = 'Good'; barWidth = '60%'; barColor = 'bg-blue-500'; }
                else if (entropy < 100) { strengthText = 'Strong'; barWidth = '80%'; barColor = 'bg-tt-secondary'; }
                else { strengthText = 'Excellent'; barWidth = '100%'; barColor = 'bg-tt-primary'; }
            }

            ui.strengthText.textContent = strengthText;
            ui.strengthText.className = `font-extrabold ${barColor.replace('bg-', 'text-')}`;
            ui.strengthBar.style.width = barWidth;
            ui.strengthBar.className = `strength-bar ${barColor}`;
            ui.timeToCrack.textContent = time;
        };
        
        ui.modeRadios.forEach(radio => radio.addEventListener('change', updateUIMode));
        ui.inputs.forEach(input => input.addEventListener('input', generate));

        updateUIMode();
    });
    </script>
</body>
</html>